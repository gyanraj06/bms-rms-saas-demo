{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUS/Desktop/Codes/saas-bms/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: \"default\" | \"outline\" | \"ghost\" | \"link\" | \"destructive\" | \"secondary\"\r\n    size?: \"default\" | \"sm\" | \"lg\" | \"icon\"\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant = \"default\", size = \"default\", ...props }, ref) => {\r\n        return (\r\n            <button\r\n                ref={ref}\r\n                className={cn(\r\n                    \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300\",\r\n                    {\r\n                        \"bg-gray-900 text-gray-50 hover:bg-gray-900/90 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/90\": variant === \"default\",\r\n                        \"bg-gray-100 text-gray-900 hover:bg-gray-100/80 dark:bg-gray-800 dark:text-gray-50 dark:hover:bg-gray-800/80\": variant === \"secondary\",\r\n                        \"border border-gray-200 bg-white hover:bg-gray-100 hover:text-gray-900 dark:border-gray-800 dark:bg-gray-950 dark:hover:bg-gray-800 dark:hover:text-gray-50\": variant === \"outline\",\r\n                        \"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50\": variant === \"ghost\",\r\n                        \"text-gray-900 underline-offset-4 hover:underline dark:text-gray-50\": variant === \"link\",\r\n                        \"bg-red-500 text-gray-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-gray-50 dark:hover:bg-red-900/90\": variant === \"destructive\",\r\n                        \"h-10 px-4 py-2\": size === \"default\",\r\n                        \"h-9 rounded-md px-3\": size === \"sm\",\r\n                        \"h-11 rounded-md px-8\": size === \"lg\",\r\n                        \"h-10 w-10\": size === \"icon\",\r\n                    },\r\n                    className\r\n                )}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQA,MAAM,uBAAS,8MAAgB,MAC3B,QAAiE;QAAhE,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,GAAG,OAAO;IAC3D,qBACI,gOAAC;QACG,KAAK;QACL,WAAW,IAAA,wJAAE,EACT,oVACA;YACI,6GAA6G,YAAY;YACzH,+GAA+G,YAAY;YAC3H,8JAA8J,YAAY;YAC1K,wFAAwF,YAAY;YACpG,sEAAsE,YAAY;YAClF,0GAA0G,YAAY;YACtH,kBAAkB,SAAS;YAC3B,uBAAuB,SAAS;YAChC,wBAAwB,SAAS;YACjC,aAAa,SAAS;QAC1B,GACA;QAEH,GAAG,KAAK;;;;;;AAGrB;;AAEJ,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUS/Desktop/Codes/saas-bms/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n    \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default:\r\n                    \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n                secondary:\r\n                    \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n                destructive:\r\n                    \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n                outline: \"text-foreground\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface BadgeProps\r\n    extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> { }\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n    return (\r\n        <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n    )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,6MAAG,EACrB,0KACA;IACI,UAAU;QACN,SAAS;YACL,SACI;YACJ,WACI;YACJ,aACI;YACJ,SAAS;QACb;IACJ;IACA,iBAAiB;QACb,SAAS;IACb;AACJ;AAOJ,SAAS,MAAM,KAA4C;QAA5C,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB,GAA5C;IACX,qBACI,gOAAC;QAAI,WAAW,IAAA,wJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAE5E;KAJS","debugId":null}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUS/Desktop/Codes/saas-bms/components/ui/dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { X } from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface DialogProps {\r\n    open: boolean\r\n    onOpenChange: (open: boolean) => void\r\n    children: React.ReactNode\r\n}\r\n\r\nfunction Dialog({ open, onOpenChange, children }: DialogProps) {\r\n    if (!open) return null\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            {/* Backdrop */}\r\n            <div\r\n                className=\"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity\"\r\n                onClick={() => onOpenChange(false)}\r\n            />\r\n\r\n            {/* Content */}\r\n            <div className=\"relative z-50 grid w-full max-w-lg gap-4 border bg-white p-6 shadow-lg duration-200 sm:rounded-lg dark:bg-black dark:border-gray-800\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction DialogContent({ children, className }: { children: React.ReactNode, className?: string }) {\r\n    return <div className={cn(\"grid gap-4\", className)}>{children}</div>\r\n}\r\n\r\nfunction DialogHeader({ children, className }: { children: React.ReactNode, className?: string }) {\r\n    return <div className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)}>{children}</div>\r\n}\r\n\r\nfunction DialogTitle({ children, className }: { children: React.ReactNode, className?: string }) {\r\n    return <h2 className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}>{children}</h2>\r\n}\r\n\r\nfunction DialogClose({ onClick }: { onClick: () => void }) {\r\n    return (\r\n        <button\r\n            onClick={onClick}\r\n            className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500 dark:ring-offset-gray-950 dark:focus:ring-gray-300 dark:data-[state=open]:bg-gray-800 dark:data-[state=open]:text-gray-400\"\r\n        >\r\n            <X className=\"h-4 w-4\" />\r\n            <span className=\"sr-only\">Close</span>\r\n        </button>\r\n    )\r\n}\r\n\r\nfunction DialogFooter({ children, className }: { children: React.ReactNode, className?: string }) {\r\n    return <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)}>{children}</div>\r\n}\r\n\r\nexport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogClose, DialogFooter }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA;AACA;;;;AAQA,SAAS,OAAO,KAA6C;QAA7C,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAe,GAA7C;IACZ,IAAI,CAAC,MAAM,OAAO;IAElB,qBACI,gOAAC;QAAI,WAAU;;0BAEX,gOAAC;gBACG,WAAU;gBACV,SAAS,IAAM,aAAa;;;;;;0BAIhC,gOAAC;gBAAI,WAAU;0BACV;;;;;;;;;;;;AAIjB;KAjBS;AAmBT,SAAS,cAAc,KAA0E;QAA1E,EAAE,QAAQ,EAAE,SAAS,EAAqD,GAA1E;IACnB,qBAAO,gOAAC;QAAI,WAAW,IAAA,wJAAE,EAAC,cAAc;kBAAa;;;;;;AACzD;MAFS;AAIT,SAAS,aAAa,KAA0E;QAA1E,EAAE,QAAQ,EAAE,SAAS,EAAqD,GAA1E;IAClB,qBAAO,gOAAC;QAAI,WAAW,IAAA,wJAAE,EAAC,sDAAsD;kBAAa;;;;;;AACjG;MAFS;AAIT,SAAS,YAAY,KAA0E;QAA1E,EAAE,QAAQ,EAAE,SAAS,EAAqD,GAA1E;IACjB,qBAAO,gOAAC;QAAG,WAAW,IAAA,wJAAE,EAAC,qDAAqD;kBAAa;;;;;;AAC/F;MAFS;AAIT,SAAS,YAAY,KAAoC;QAApC,EAAE,OAAO,EAA2B,GAApC;IACjB,qBACI,gOAAC;QACG,SAAS;QACT,WAAU;;0BAEV,gOAAC,uOAAC;gBAAC,WAAU;;;;;;0BACb,gOAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;AAGtC;MAVS;AAYT,SAAS,aAAa,KAA0E;QAA1E,EAAE,QAAQ,EAAE,SAAS,EAAqD,GAA1E;IAClB,qBAAO,gOAAC;QAAI,WAAW,IAAA,wJAAE,EAAC,iEAAiE;kBAAa;;;;;;AAC5G;MAFS","debugId":null}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUS/Desktop/Codes/saas-bms/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Label = React.forwardRef<\r\n    HTMLLabelElement,\r\n    React.LabelHTMLAttributes<HTMLLabelElement>\r\n>(({ className, ...props }, ref) => (\r\n    <label\r\n        ref={ref}\r\n        className={cn(\r\n            \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nLabel.displayName = \"Label\"\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,sBAAQ,8MAAgB,MAG5B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACtB,gOAAC;QACG,KAAK;QACL,WAAW,IAAA,wJAAE,EACT,8FACA;QAEH,GAAG,KAAK;;;;;;;;AAGjB,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUS/Desktop/Codes/saas-bms/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface InputProps\r\n    extends React.InputHTMLAttributes<HTMLInputElement> { }\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n    ({ className, type, ...props }, ref) => {\r\n        return (\r\n            <input\r\n                type={type}\r\n                className={cn(\r\n                    \"flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:bg-gray-950 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus-visible:ring-gray-300\",\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAKA,MAAM,sBAAQ,8MAAgB,MAC1B,QAAgC;QAA/B,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO;IAC1B,qBACI,gOAAC;QACG,MAAM;QACN,WAAW,IAAA,wJAAE,EACT,qdACA;QAEJ,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;;AAEJ,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUS/Desktop/Codes/saas-bms/app/dashboard/SettlementModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogClose } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Printer, CreditCard, Banknote, QrCode, Split } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\ninterface Order {\r\n    id: string;\r\n    customer: string;\r\n    items: string;\r\n    total: number;\r\n    status: string;\r\n    table: string;\r\n    timestamp: number;\r\n}\r\n\r\ninterface SettlementModalProps {\r\n    open: boolean;\r\n    onOpenChange: (open: boolean) => void;\r\n    order: Order | null;\r\n    onSettle: (orderId: string, method: string) => void;\r\n}\r\n\r\nexport function SettlementModal({ open, onOpenChange, order, onSettle }: SettlementModalProps) {\r\n    const [method, setMethod] = useState<\"Cash\" | \"Card\" | \"UPI\" | \"Split\" | null>(null);\r\n    const [splitAmounts, setSplitAmounts] = useState({ cash: 0, card: 0, upi: 0 });\r\n\r\n    // Ensure order exists before rendering content\r\n    if (!order) return null;\r\n\r\n    const remaining = order.total - (splitAmounts.cash + splitAmounts.card + splitAmounts.upi);\r\n\r\n    const handlePrint = () => {\r\n        const style = document.createElement('style');\r\n        style.innerHTML = `\r\n            @media print {\r\n                body * { visibility: hidden; }\r\n                .bill-content, .bill-content * { visibility: visible; }\r\n                .bill-content { position: absolute; left: 0; top: 0; width: 100%; padding: 20px; }\r\n            }\r\n        `;\r\n        document.head.appendChild(style);\r\n        window.print();\r\n        document.head.removeChild(style);\r\n    };\r\n\r\n    const handleConfirm = () => {\r\n        if (method === \"Split\") {\r\n            if (Math.abs(remaining) < 0.01) {\r\n                const parts = [];\r\n                if (splitAmounts.cash > 0) parts.push(`Cash: ${splitAmounts.cash.toFixed(2)}`);\r\n                if (splitAmounts.card > 0) parts.push(`Card: ${splitAmounts.card.toFixed(2)}`);\r\n                if (splitAmounts.upi > 0) parts.push(`UPI: ${splitAmounts.upi.toFixed(2)}`);\r\n                onSettle(order.id, `Split (${parts.join(\", \")})`);\r\n                onOpenChange(false);\r\n                setMethod(null);\r\n                setSplitAmounts({ cash: 0, card: 0, upi: 0 });\r\n            }\r\n        } else if (method) {\r\n            onSettle(order.id, method);\r\n            onOpenChange(false);\r\n            setMethod(null);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onOpenChange}>\r\n            {/* Added a DialogClose button for the top-right X */}\r\n            <DialogContent className=\"sm:max-w-md\">\r\n                <DialogClose onClick={() => onOpenChange(false)} />\r\n                <DialogHeader>\r\n                    <DialogTitle>Settle Order {order.id}</DialogTitle>\r\n                </DialogHeader>\r\n\r\n                <div className=\"bill-content space-y-4\">\r\n                    <div className=\"flex justify-between items-center bg-zinc-50 dark:bg-zinc-900 p-3 rounded-lg border\">\r\n                        <div>\r\n                            <p className=\"text-sm font-semibold\">{order.customer}</p>\r\n                            <p className=\"text-xs text-zinc-500\">Table: {order.table}</p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                            <p className=\"text-xl font-bold\">${order.total.toFixed(2)}</p>\r\n                            <p className=\"text-xs text-zinc-500\">{new Date(order.timestamp).toLocaleString()}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"text-sm text-zinc-600 dark:text-zinc-400\">\r\n                        <p className=\"font-semibold mb-1\">Items Summary:</p>\r\n                        <p>{order.items}</p>\r\n                    </div>\r\n\r\n                    <hr className=\"my-4 border-zinc-200 dark:border-zinc-800\" />\r\n\r\n                    <div className=\"space-y-4 print:hidden\">\r\n                        <Label>Select Payment Method</Label>\r\n                        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2\">\r\n                            <Button\r\n                                variant={method === \"Cash\" ? \"default\" : \"outline\"}\r\n                                className={cn(\"px-2\", method === \"Cash\" && \"bg-green-600 hover:bg-green-700\")}\r\n                                onClick={() => setMethod(\"Cash\")}\r\n                            >\r\n                                <Banknote className=\"h-4 w-4 mr-1.5\" />\r\n                                Cash\r\n                            </Button>\r\n                            <Button\r\n                                variant={method === \"Card\" ? \"default\" : \"outline\"}\r\n                                className={cn(\"px-2\", method === \"Card\" && \"bg-blue-600 hover:bg-blue-700\")}\r\n                                onClick={() => setMethod(\"Card\")}\r\n                            >\r\n                                <CreditCard className=\"h-4 w-4 mr-1.5\" />\r\n                                Card\r\n                            </Button>\r\n                            <Button\r\n                                variant={method === \"UPI\" ? \"default\" : \"outline\"}\r\n                                className={cn(\"px-2\", method === \"UPI\" && \"bg-purple-600 hover:bg-purple-700\")}\r\n                                onClick={() => setMethod(\"UPI\")}\r\n                            >\r\n                                <QrCode className=\"h-4 w-4 mr-1.5\" />\r\n                                UPI\r\n                            </Button>\r\n                            <Button\r\n                                variant={method === \"Split\" ? \"default\" : \"outline\"}\r\n                                className={cn(\"px-2\", method === \"Split\" && \"bg-orange-600 hover:bg-orange-700\")}\r\n                                onClick={() => {\r\n                                    setMethod(\"Split\");\r\n                                    setSplitAmounts({ cash: order.total / 2, card: order.total / 2, upi: 0 });\r\n                                }}\r\n                            >\r\n                                <Split className=\"h-4 w-4 mr-1.5\" />\r\n                                Split\r\n                            </Button>\r\n                        </div>\r\n\r\n                        {method === \"Split\" && (\r\n                            <div className=\"p-4 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800 space-y-4 animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                                <div className=\"grid grid-cols-3 gap-3\">\r\n                                    <div className=\"space-y-1.5\">\r\n                                        <div className=\"flex justify-between\">\r\n                                            <Label className=\"text-[10px] uppercase font-bold text-zinc-500\">Cash</Label>\r\n                                            {remaining > 0.01 && (\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    onClick={() => setSplitAmounts(prev => ({ ...prev, cash: prev.cash + remaining }))}\r\n                                                    className=\"text-[10px] text-orange-600 font-bold hover:underline\"\r\n                                                >\r\n                                                    Fill\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"relative\">\r\n                                            <span className=\"absolute left-2 top-1/2 -translate-y-1/2 text-zinc-400 text-xs\">$</span>\r\n                                            <Input\r\n                                                type=\"number\"\r\n                                                className=\"h-8 pl-5 text-xs text-right pr-2\"\r\n                                                value={splitAmounts.cash || \"\"}\r\n                                                onChange={(e) => setSplitAmounts({ ...splitAmounts, cash: parseFloat(e.target.value) || 0 })}\r\n                                                onFocus={(e) => e.target.select()}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"space-y-1.5\">\r\n                                        <div className=\"flex justify-between\">\r\n                                            <Label className=\"text-[10px] uppercase font-bold text-zinc-500\">Card</Label>\r\n                                            {remaining > 0.01 && (\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    onClick={() => setSplitAmounts(prev => ({ ...prev, card: prev.card + remaining }))}\r\n                                                    className=\"text-[10px] text-orange-600 font-bold hover:underline\"\r\n                                                >\r\n                                                    Fill\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"relative\">\r\n                                            <span className=\"absolute left-2 top-1/2 -translate-y-1/2 text-zinc-400 text-xs\">$</span>\r\n                                            <Input\r\n                                                type=\"number\"\r\n                                                className=\"h-8 pl-5 text-xs text-right pr-2\"\r\n                                                value={splitAmounts.card || \"\"}\r\n                                                onChange={(e) => setSplitAmounts({ ...splitAmounts, card: parseFloat(e.target.value) || 0 })}\r\n                                                onFocus={(e) => e.target.select()}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"space-y-1.5\">\r\n                                        <div className=\"flex justify-between\">\r\n                                            <Label className=\"text-[10px] uppercase font-bold text-zinc-500\">UPI</Label>\r\n                                            {remaining > 0.01 && (\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    onClick={() => setSplitAmounts(prev => ({ ...prev, upi: prev.upi + remaining }))}\r\n                                                    className=\"text-[10px] text-orange-600 font-bold hover:underline\"\r\n                                                >\r\n                                                    Fill\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"relative\">\r\n                                            <span className=\"absolute left-2 top-1/2 -translate-y-1/2 text-zinc-400 text-xs\">$</span>\r\n                                            <Input\r\n                                                type=\"number\"\r\n                                                className=\"h-8 pl-5 text-xs text-right pr-2\"\r\n                                                value={splitAmounts.upi || \"\"}\r\n                                                onChange={(e) => setSplitAmounts({ ...splitAmounts, upi: parseFloat(e.target.value) || 0 })}\r\n                                                onFocus={(e) => e.target.select()}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex items-center justify-between pt-2 border-t border-zinc-200 dark:border-zinc-800\">\r\n                                    <span className=\"text-xs text-zinc-500 font-medium\">Remaining to Settle:</span>\r\n                                    <span className={cn(\r\n                                        \"text-sm font-bold\",\r\n                                        Math.abs(remaining) < 0.01 ? \"text-green-600\" : \"text-red-600\"\r\n                                    )}>\r\n                                        ${Math.abs(remaining).toFixed(2)}\r\n                                        {remaining > 0 ? \" short\" : remaining < 0 ? \" over\" : \"\"}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex flex-col-reverse sm:flex-row sm:justify-between gap-2 mt-4 print:hidden\">\r\n                    <Button variant=\"ghost\" onClick={handlePrint} className=\"gap-2\">\r\n                        <Printer className=\"h-4 w-4\" />\r\n                        Print Bill\r\n                    </Button>\r\n                    <div className=\"flex gap-2\">\r\n                        <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                            Cancel\r\n                        </Button>\r\n                        <Button\r\n                            onClick={handleConfirm}\r\n                            disabled={!method || (method === \"Split\" && Math.abs(remaining) > 0.01)}\r\n                            className=\"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black\"\r\n                        >\r\n                            Confirm Payment\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 956, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASUS/Desktop/Codes/saas-bms/app/restaurant/tables/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {\r\n    Armchair,\r\n    Users,\r\n    Clock,\r\n    ChevronRight,\r\n    Plus,\r\n    DollarSign,\r\n    Utensils,\r\n    AlertCircle,\r\n    Check,\r\n    Calendar,\r\n    X,\r\n    CalendarDays\r\n} from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { SettlementModal } from \"@/app/dashboard/SettlementModal\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\n// Default tables if none in storage - matching user's POS default structure\r\nconst DEFAULT_TABLES = [\r\n    { id: \"t1\", name: \"Table 1\", seats: 4, shape: \"square\", zone: \"Main Hall\" },\r\n    { id: \"t2\", name: \"Table 2\", seats: 4, shape: \"square\", zone: \"Main Hall\" },\r\n    { id: \"t3\", name: \"Table 3\", seats: 6, shape: \"rectangle\", zone: \"Window\" },\r\n    { id: \"t4\", name: \"Table 4\", seats: 2, shape: \"circle\", zone: \"Patio\" },\r\n];\r\n\r\nexport interface Reservation {\r\n    id: string;\r\n    tableId: string; // Linking by ID is better, but POS uses name often. Let's use ID for storage, but match carefully.\r\n    tableName: string; // redundancy for easier lookup\r\n    customerName: string;\r\n    time: number; // timestamp\r\n    guests: number;\r\n    phone?: string;\r\n    status: 'Confirmed' | 'Seated' | 'Cancelled';\r\n}\r\n\r\nexport default function TablesPage() {\r\n    const router = useRouter();\r\n    const [orders, setOrders] = useState<any[]>([]);\r\n    const [tables, setTables] = useState<any[]>([]); // Dynamic tables state\r\n    const [reservations, setReservations] = useState<Reservation[]>([]);\r\n    const [selectedOrder, setSelectedOrder] = useState<any>(null);\r\n    const [isSettlementModalOpen, setIsSettlementModalOpen] = useState(false);\r\n    const [currentTime, setCurrentTime] = useState(Date.now());\r\n\r\n    // Reservation Modal State\r\n    const [isReservationModalOpen, setIsReservationModalOpen] = useState(false);\r\n    const [selectedTableForReservation, setSelectedTableForReservation] = useState<any>(null);\r\n\r\n    // Load data\r\n    const loadData = () => {\r\n        const storedOrders = localStorage.getItem('restaurant_orders') || '[]';\r\n        const storedTables = localStorage.getItem('restaurant_tables');\r\n        const storedReservations = localStorage.getItem('restaurant_reservations');\r\n\r\n        const allParsedOrders = JSON.parse(storedOrders);\r\n        // Active orders associated with a table (not Takeaway generally, but we can filter)\r\n        // Ensure we catch \"Unpaid\" as active for tables\r\n        setOrders(allParsedOrders);\r\n\r\n        if (storedTables) {\r\n            setTables(JSON.parse(storedTables));\r\n        } else {\r\n            // If no tables, use defaults and save them (optional, but good for consistency)\r\n            setTables(DEFAULT_TABLES);\r\n        }\r\n\r\n        if (storedReservations) {\r\n            setReservations(JSON.parse(storedReservations));\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadData();\r\n        window.addEventListener('storage', loadData);\r\n        const interval = setInterval(() => {\r\n            loadData();\r\n            setCurrentTime(Date.now());\r\n        }, 5000);\r\n        return () => {\r\n            window.removeEventListener('storage', loadData);\r\n            clearInterval(interval);\r\n        };\r\n    }, []);\r\n\r\n    const getTableOrder = (tableName: string) => {\r\n        // Find latest active order for this table NAME (since POS saves table name as standNumber)\r\n        // statuses: Pending, Cooking, ready, Delivered, Unpaid\r\n        return orders.find(o =>\r\n            o.table === tableName &&\r\n            [\"Pending\", \"Cooking\", \"Ready\", \"Delivered\", \"Unpaid\"].includes(o.status)\r\n        );\r\n    };\r\n\r\n    const getTableReservation = (tableId: string, tableName: string) => {\r\n        // Simple logic: find a confirmed reservation for this table in the future or recent past (e.g. within last 30 mins)\r\n        // For simplicity in this demo, just find the 'Confirmed' one.\r\n        return reservations.find(r =>\r\n            (r.tableId === tableId || r.tableName === tableName) &&\r\n            r.status === 'Confirmed'\r\n        );\r\n    };\r\n\r\n    const handleCreateReservation = (reservationData: Omit<Reservation, 'id' | 'status'>) => {\r\n        const newReservation: Reservation = {\r\n            ...reservationData,\r\n            id: `res-${Date.now()}`,\r\n            status: 'Confirmed'\r\n        };\r\n        const updatedReservations = [...reservations, newReservation];\r\n        setReservations(updatedReservations);\r\n        localStorage.setItem('restaurant_reservations', JSON.stringify(updatedReservations));\r\n        window.dispatchEvent(new Event(\"storage\"));\r\n        setIsReservationModalOpen(false);\r\n        setSelectedTableForReservation(null);\r\n    };\r\n\r\n    const handleCancelReservation = (reservationId: string) => {\r\n        if (!confirm(\"Cancel this reservation?\")) return;\r\n        const updated = reservations.map(r => r.id === reservationId ? { ...r, status: 'Cancelled' as const } : r);\r\n        setReservations(updated as Reservation[]);\r\n        localStorage.setItem('restaurant_reservations', JSON.stringify(updated));\r\n        window.dispatchEvent(new Event(\"storage\"));\r\n    };\r\n\r\n    const handleSeated = (reservationId: string) => {\r\n        const updated = reservations.map(r => r.id === reservationId ? { ...r, status: 'Seated' as const } : r);\r\n        setReservations(updated as Reservation[]);\r\n        localStorage.setItem('restaurant_reservations', JSON.stringify(updated));\r\n        window.dispatchEvent(new Event(\"storage\"));\r\n\r\n        // Optionally redirect to POS to start order\r\n        // router.push(...)\r\n    };\r\n\r\n    const getStatusColor = (status: string) => {\r\n        switch (status) {\r\n            case \"Pending\": return \"text-zinc-600 bg-zinc-100 dark:text-zinc-400 dark:bg-zinc-800\";\r\n            case \"Cooking\": return \"text-orange-600 bg-orange-100 dark:text-orange-400 dark:bg-orange-900/30\";\r\n            case \"Ready\": return \"text-emerald-600 bg-emerald-100 dark:text-emerald-400 dark:bg-emerald-900/30\";\r\n            case \"Delivered\": return \"text-blue-600 bg-blue-100 dark:text-blue-400 dark:bg-blue-900/30\";\r\n            case \"Unpaid\": return \"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/30\";\r\n            default: return \"text-zinc-500 bg-zinc-100\";\r\n        }\r\n    };\r\n\r\n    const getElapsedTime = (timestamp: number) => {\r\n        const diff = Math.floor((currentTime - timestamp) / 60000);\r\n        if (diff < 1) return \"Just now\";\r\n        return `${diff}m`;\r\n    };\r\n\r\n    // Copied from page.tsx (with slight robust mods if any)\r\n    const handleSettle = (orderId: string, method: string) => {\r\n        const allOrders = JSON.parse(localStorage.getItem('restaurant_orders') || '[]');\r\n        const updatedOrders = allOrders.map((o: any) => {\r\n            if (o.id === orderId) {\r\n                // --- Inventory Deduction Logic (Same as Dashboard) ---\r\n                if (o.rawItems && Array.isArray(o.rawItems)) {\r\n                    const currentIngredients = JSON.parse(localStorage.getItem('restaurant_ingredients') || '[]');\r\n                    const menuItems = JSON.parse(localStorage.getItem('restaurant_menu_items') || '[]');\r\n                    let ingredientsToUpdate = [...currentIngredients];\r\n                    let deducted = false;\r\n\r\n                    o.rawItems.forEach((orderItem: any) => {\r\n                        const menuItem = menuItems.find((m: any) => m.id === orderItem.id);\r\n                        if (menuItem && menuItem.recipe) {\r\n                            menuItem.recipe.forEach((r: any) => {\r\n                                const ingIndex = ingredientsToUpdate.findIndex((i: any) => i.id === r.ingredientId);\r\n                                if (ingIndex > -1) {\r\n                                    ingredientsToUpdate[ingIndex] = {\r\n                                        ...ingredientsToUpdate[ingIndex],\r\n                                        currentStock: Math.max(0, ingredientsToUpdate[ingIndex].currentStock - (r.quantity * orderItem.quantity)),\r\n                                        lastUpdated: Date.now()\r\n                                    };\r\n                                    // Log Transaction would go here (simplified for this view or reused)\r\n                                    deducted = true;\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n\r\n                    if (deducted) {\r\n                        localStorage.setItem('restaurant_ingredients', JSON.stringify(ingredientsToUpdate));\r\n                        window.dispatchEvent(new Event(\"storage\")); // Sync inventory\r\n                    }\r\n                }\r\n                // ---------------------------------\r\n\r\n                return {\r\n                    ...o,\r\n                    status: \"Paid\",\r\n                    paymentMethod: method,\r\n                    paidAt: Date.now()\r\n                };\r\n            }\r\n            return o;\r\n        });\r\n        localStorage.setItem('restaurant_orders', JSON.stringify(updatedOrders));\r\n        window.dispatchEvent(new Event(\"storage\"));\r\n    };\r\n\r\n    const handleAddItems = (tableName: string) => {\r\n        // Pass table NAME to POS\r\n        router.push(`/restaurant/pos?table=${encodeURIComponent(tableName)}`);\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6 max-w-[1600px] mx-auto\">\r\n            <header className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold text-zinc-900 dark:text-zinc-50 tracking-tight flex items-center gap-2\">\r\n                        Table Management\r\n                    </h1>\r\n                    <p className=\"text-sm text-zinc-500 dark:text-zinc-400\">\r\n                        Overview of hall usage and table status\r\n                    </p>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"flex items-center gap-2 px-3 py-1 bg-white dark:bg-zinc-900 rounded-full border border-zinc-200 dark:border-zinc-800 text-xs\">\r\n                        <div className=\"h-2 w-2 rounded-full bg-emerald-500\" /> Free\r\n                        <div className=\"h-2 w-2 rounded-full bg-orange-500 ml-2\" /> Occupied\r\n                        <div className=\"h-2 w-2 rounded-full bg-purple-500 ml-2\" /> Reserved\r\n                        <div className=\"h-2 w-2 rounded-full bg-red-500 ml-2\" /> Unpaid\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\r\n                {tables.map((table) => {\r\n                    const activeOrder = getTableOrder(table.name); // Using table.name\r\n                    const activeReservation = getTableReservation(table.id, table.name);\r\n\r\n                    const isOccupied = !!activeOrder;\r\n                    const isReserved = !!activeReservation && !isOccupied;\r\n\r\n                    return (\r\n                        <div\r\n                            key={table.id}\r\n                            className={cn(\r\n                                \"relative flex flex-col p-5 rounded-xl border transition-all duration-200 shadow-sm\",\r\n                                isOccupied\r\n                                    ? \"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 hover:border-orange-500/50\"\r\n                                    : isReserved\r\n                                        ? \"bg-purple-50 dark:bg-purple-950/20 border-purple-200 dark:border-purple-800\"\r\n                                        : \"bg-zinc-50/50 dark:bg-zinc-950/20 border-dashed border-zinc-200 dark:border-zinc-800 opacity-80 hover:opacity-100\"\r\n                            )}\r\n                        >\r\n                            {/* Header */}\r\n                            <div className=\"flex justify-between items-start mb-4\">\r\n                                <div className=\"flex flex-col\">\r\n                                    <h3 className=\"text-lg font-bold text-zinc-900 dark:text-zinc-100\">{table.name}</h3>\r\n                                    <span className=\"text-xs text-zinc-500\">\r\n                                        {table.zone || \"Main Hall\"} â€¢ {table.seats} Seats\r\n                                    </span>\r\n                                </div>\r\n                                {isOccupied ? (\r\n                                    <Badge className={cn(\"capitalize shadow-none\", getStatusColor(activeOrder.status))}>\r\n                                        {activeOrder.status}\r\n                                    </Badge>\r\n                                ) : isReserved ? (\r\n                                    <Badge className=\"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300 shadow-none border-0\">\r\n                                        Reserved\r\n                                    </Badge>\r\n                                ) : (\r\n                                    <Badge variant=\"outline\" className=\"text-zinc-400 bg-transparent border-zinc-200 dark:border-zinc-800\">\r\n                                        Free\r\n                                    </Badge>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Content */}\r\n                            {isOccupied ? (\r\n                                <div className=\"flex-1 flex flex-col gap-3\">\r\n                                    <div className=\"flex items-center justify-between p-2 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg border border-zinc-100 dark:border-zinc-800\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <div className=\"h-8 w-8 rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center text-orange-600 dark:text-orange-400\">\r\n                                                <Utensils className=\"h-4 w-4\" />\r\n                                            </div>\r\n                                            <div className=\"flex flex-col\">\r\n                                                <span className=\"text-xs font-bold text-zinc-900 dark:text-zinc-100\">Ordered</span>\r\n                                                <span className=\"text-[10px] text-zinc-500 font-mono\">\r\n                                                    {getElapsedTime(activeOrder.timestamp)} ago\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"text-right\">\r\n                                            <span className=\"block text-sm font-bold text-zinc-900 dark:text-zinc-100\">\r\n                                                ${Number(activeOrder.total).toFixed(2)}\r\n                                            </span>\r\n                                            <span className=\"text-[10px] text-zinc-500\">Total</span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"mt-auto grid grid-cols-2 gap-2\">\r\n                                        <Button\r\n                                            size=\"sm\"\r\n                                            variant=\"outline\"\r\n                                            className=\"w-full text-xs h-8 border-dashed\"\r\n                                            onClick={() => handleAddItems(table.name)}\r\n                                        >\r\n                                            <Plus className=\"h-3.5 w-3.5 mr-1\" />\r\n                                            Add Items\r\n                                        </Button>\r\n                                        <Button\r\n                                            size=\"sm\"\r\n                                            className=\"w-full text-xs h-8 bg-zinc-900 text-white hover:bg-zinc-800 dark:bg-zinc-100 dark:text-zinc-900\"\r\n                                            onClick={() => {\r\n                                                setSelectedOrder(activeOrder);\r\n                                                setIsSettlementModalOpen(true);\r\n                                            }}\r\n                                        >\r\n                                            <DollarSign className=\"h-3.5 w-3.5 mr-1\" />\r\n                                            Settle\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            ) : isReserved ? (\r\n                                <div className=\"flex-1 flex flex-col gap-3\">\r\n                                    <div className=\"flex-1 flex flex-col justify-center gap-1 p-3 bg-white dark:bg-zinc-900/50 rounded-lg border border-purple-100 dark:border-purple-900/30\">\r\n                                        <div className=\"flex items-center gap-2 mb-1\">\r\n                                            <CalendarDays className=\"h-4 w-4 text-purple-600\" />\r\n                                            <span className=\"font-semibold text-sm\">{activeReservation.customerName}</span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-2 text-xs text-zinc-500\">\r\n                                            <Clock className=\"h-3 w-3\" />\r\n                                            {new Date(activeReservation.time).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-2 text-xs text-zinc-500\">\r\n                                            <Users className=\"h-3 w-3\" />\r\n                                            {activeReservation.guests} Guests\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"grid grid-cols-2 gap-2 mt-auto\">\r\n                                        <Button\r\n                                            size=\"sm\"\r\n                                            variant=\"outline\"\r\n                                            className=\"h-8 text-xs text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200\"\r\n                                            onClick={() => handleCancelReservation(activeReservation.id)}\r\n                                        >\r\n                                            Cancel\r\n                                        </Button>\r\n                                        <Button\r\n                                            size=\"sm\"\r\n                                            className=\"h-8 text-xs bg-purple-600 hover:bg-purple-700 text-white\"\r\n                                            onClick={() => {\r\n                                                handleSeated(activeReservation.id);\r\n                                                handleAddItems(table.name);\r\n                                            }}\r\n                                        >\r\n                                            Seating\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"flex-1 flex flex-col items-center justify-center min-h-[100px] text-zinc-300 dark:text-zinc-700\">\r\n                                    <div className=\"flex flex-col items-center gap-2 mb-4\">\r\n                                        <Armchair className=\"h-8 w-8 opacity-50\" />\r\n                                        <span className=\"text-xs font-medium\">Available</span>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Action for Free Table */}\r\n                            {!isOccupied && !isReserved && (\r\n                                <div className=\"grid grid-cols-2 gap-2 mt-4\">\r\n                                    <Button\r\n                                        className=\"w-full h-9 border-zinc-200 dark:border-zinc-700 hover:border-purple-500 hover:text-purple-600 dark:hover:text-purple-500 text-zinc-500\"\r\n                                        variant=\"outline\"\r\n                                        size=\"sm\"\r\n                                        onClick={() => {\r\n                                            setSelectedTableForReservation(table);\r\n                                            setIsReservationModalOpen(true);\r\n                                        }}\r\n                                    >\r\n                                        Reserve\r\n                                    </Button>\r\n                                    <Button\r\n                                        className=\"w-full h-9 border-zinc-200 dark:border-zinc-700 hover:border-orange-500 hover:text-orange-600 dark:hover:text-orange-500 text-zinc-500\"\r\n                                        variant=\"outline\"\r\n                                        size=\"sm\"\r\n                                        onClick={() => handleAddItems(table.name)}\r\n                                    >\r\n                                        Order\r\n                                    </Button>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            <SettlementModal\r\n                open={isSettlementModalOpen}\r\n                onOpenChange={setIsSettlementModalOpen}\r\n                order={selectedOrder}\r\n                onSettle={handleSettle}\r\n            />\r\n\r\n            {/* Reservation Modal */}\r\n            <ReservationModal\r\n                open={isReservationModalOpen}\r\n                onOpenChange={setIsReservationModalOpen}\r\n                table={selectedTableForReservation}\r\n                onSubmit={handleCreateReservation}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ReservationModal({\r\n    open,\r\n    onOpenChange,\r\n    table,\r\n    onSubmit\r\n}: {\r\n    open: boolean;\r\n    onOpenChange: (open: boolean) => void;\r\n    table: any;\r\n    onSubmit: (data: any) => void;\r\n}) {\r\n    const [name, setName] = useState(\"\");\r\n    const [guests, setGuests] = useState(\"2\");\r\n    const [time, setTime] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (open) {\r\n            // Default time to next hour\r\n            const now = new Date();\r\n            now.setMinutes(0, 0, 0);\r\n            now.setHours(now.getHours() + 1);\r\n            setTime(now.toTimeString().slice(0, 5));\r\n            setName(\"\");\r\n            setGuests(table?.seats?.toString() || \"2\");\r\n        }\r\n    }, [open, table]);\r\n\r\n    if (!open || !table) return null;\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        // Combine today's date with selected time\r\n        const [hours, minutes] = time.split(':').map(Number);\r\n        const reservationDate = new Date();\r\n        reservationDate.setHours(hours, minutes, 0, 0);\r\n\r\n        // Handle next day if time is in past (simplified logic)\r\n        if (reservationDate.getTime() < Date.now()) {\r\n            reservationDate.setDate(reservationDate.getDate() + 1);\r\n        }\r\n\r\n        onSubmit({\r\n            tableId: table.id,\r\n            tableName: table.name,\r\n            customerName: name,\r\n            guests: parseInt(guests),\r\n            time: reservationDate.getTime()\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in\">\r\n            <div className=\"bg-white dark:bg-zinc-900 rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-zinc-200 dark:border-zinc-800\">\r\n                <div className=\"p-6 border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center\">\r\n                    <div>\r\n                        <h2 className=\"text-xl font-bold text-zinc-900 dark:text-white\">Reserve Table</h2>\r\n                        <p className=\"text-sm text-zinc-500\">Book {table.name} for a customer</p>\r\n                    </div>\r\n                    <Button variant=\"ghost\" size=\"icon\" onClick={() => onOpenChange(false)}>\r\n                        <X className=\"h-5 w-5\" />\r\n                    </Button>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <Label>Customer Name</Label>\r\n                        <Input\r\n                            required\r\n\r\n                            placeholder=\"e.g. John Doe\"\r\n                            value={name}\r\n                            onChange={e => setName(e.target.value)}\r\n                            className=\"bg-zinc-50 dark:bg-zinc-800\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Number of Guests</Label>\r\n                            <Input\r\n                                type=\"number\"\r\n                                min=\"1\"\r\n                                max={table.seats + 2} // allow slight squeeze\r\n                                required\r\n                                value={guests}\r\n                                onChange={e => setGuests(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Time</Label>\r\n                            <Input\r\n                                type=\"time\"\r\n                                required\r\n                                value={time}\r\n                                onChange={e => setTime(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-xl flex items-center gap-3 text-sm text-purple-900 dark:text-purple-200 border border-purple-100 dark:border-purple-800/30\">\r\n                        <Calendar className=\"h-5 w-5 text-purple-600\" />\r\n                        <div className=\"flex-1\">\r\n                            <p className=\"font-semibold\">Reservation Summary</p>\r\n                            <p className=\"opacity-80\">{table.name} â€¢ {parseInt(guests)} Guests â€¢ Today, {time}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"pt-2 flex gap-3\">\r\n                        <Button type=\"button\" variant=\"ghost\" className=\"flex-1\" onClick={() => onOpenChange(false)}>\r\n                            Cancel\r\n                        </Button>\r\n                        <Button type=\"submit\" className=\"flex-1 bg-purple-600 hover:bg-purple-700 text-white\">\r\n                            Confirm Booking\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}