(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59],{1524:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},6191:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},24679:(e,t,i)=>{"use strict";i.d(t,{Wm:()=>a,Wt:()=>s,kn:()=>n,mQ:()=>r});let a=[{id:"1",name:"Appetizers",description:"Starters and small bites",itemsCount:3},{id:"2",name:"Main Course",description:"Hearty meals",itemsCount:4},{id:"3",name:"Beverages",description:"Refreshing drinks",itemsCount:2},{id:"4",name:"Desserts",description:"Sweet treats",itemsCount:2}],s=[{id:"mg1",name:"Spice Level",required:!0,minSelection:1,maxSelection:1,modifiers:[{id:"m1",name:"Mild",price:0,available:!0},{id:"m2",name:"Medium",price:0,available:!0},{id:"m3",name:"Spicy",price:0,available:!0}]},{id:"mg2",name:"Add-ons",required:!1,minSelection:0,maxSelection:3,modifiers:[{id:"m4",name:"Extra Cheese",price:30,available:!0},{id:"m5",name:"Mushrooms",price:20,available:!0},{id:"m6",name:"Olives",price:20,available:!0}]},{id:"mg3",name:"Size",required:!0,minSelection:1,maxSelection:1,modifiers:[{id:"m7",name:"Regular",price:0,available:!0},{id:"m8",name:"Large",price:50,available:!0}]}],r=[{id:"i1",name:"Crispy Corn",description:"Fresh corn kernels fried to perfection with spices.",price:180,categoryId:"1",isVeg:!0,available:!0,modifierGroups:["mg1"]},{id:"i2",name:"Chicken Wings",description:"Spicy buffalo wings served with ranch dip.",price:250,categoryId:"1",isVeg:!1,available:!0,modifierGroups:["mg1"]},{id:"i3",name:"Paneer Tikka",description:"Marinated paneer grilled in tandoor.",price:220,categoryId:"1",isVeg:!0,available:!0,modifierGroups:["mg1"]},{id:"i4",name:"Butter Chicken",description:"Classic chicken curry in a rich tomato gravy.",price:350,categoryId:"2",isVeg:!1,available:!0,modifierGroups:["mg1"]},{id:"i5",name:"Dal Makhani",description:"Creamy black lentils cooked overnight.",price:280,categoryId:"2",isVeg:!0,available:!0,modifierGroups:[]},{id:"i6",name:"Fresh Lime Soda",description:"Sweet and salty refreshing drink.",price:80,categoryId:"3",isVeg:!0,available:!0,modifierGroups:[]},{id:"i7",name:"Chocolate Brownie",description:"Warm fudge brownie with vanilla ice cream.",price:150,categoryId:"4",isVeg:!1,available:!0,modifierGroups:["mg2"]}],n=[{id:"menu-all",name:"All Items",description:"Complete menu with all available items",categoryIds:["1","2","3","4"],itemIds:[],active:!0,createdAt:Date.now()},{id:"menu-breakfast",name:"Breakfast Menu",description:"Morning specials and light bites",categoryIds:["1","3"],itemIds:["i1","i3","i6"],active:!0,createdAt:Date.now()},{id:"menu-lunch-dinner",name:"Lunch & Dinner",description:"Full course meals",categoryIds:["1","2","3","4"],itemIds:[],active:!0,createdAt:Date.now()}]},25016:(e,t,i)=>{"use strict";i.d(t,{cn:()=>r});var a=i(2821),s=i(75889);function r(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,s.QP)((0,a.$)(t))}},26617:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},29599:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]])},33789:(e,t,i)=>{"use strict";i.d(t,{p:()=>n});var a=i(95155),s=i(12115),r=i(25016);let n=s.forwardRef((e,t)=>{let{className:i,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:bg-gray-950 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus-visible:ring-gray-300",i),ref:t,...n})});n.displayName="Input"},46046:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},52056:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},52987:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},54485:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},61362:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},65229:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},71360:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},77992:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>N});var a=i(95155),s=i(12115),r=i(26617),n=i(1524),d=i(52056),l=i(61362),c=i(54485),o=i(86651),m=i(6191),x=i(71360),h=i(29599),u=i(52987),g=i(46046),p=i(65229),b=i(97003),v=i(33789),f=i(90923),k=i(25016);let j=[{id:"ing-paneer",name:"Paneer (Fresh)",unit:"kg",costPerUnit:350,currentStock:3.26,idealStock:10,minStockLevel:3,category:"Dairy",lastUpdated:Date.now()},{id:"ing-1",name:"Burger Bun",unit:"pcs",costPerUnit:5,currentStock:100,idealStock:150,minStockLevel:20,category:"Bakery",lastUpdated:Date.now()},{id:"ing-2",name:"Chicken Patty",unit:"pcs",costPerUnit:30,currentStock:50,idealStock:100,minStockLevel:10,category:"Frozen",lastUpdated:Date.now()},{id:"ing-3",name:"Cheese Slice",unit:"pcs",costPerUnit:10,currentStock:200,idealStock:300,minStockLevel:50,category:"Dairy",lastUpdated:Date.now()},{id:"ing-4",name:"Tomato",unit:"kg",costPerUnit:40,currentStock:5,idealStock:10,minStockLevel:2,category:"Produce",lastUpdated:Date.now()},{id:"ing-5",name:"Lettuce",unit:"kg",costPerUnit:60,currentStock:3,idealStock:5,minStockLevel:1,category:"Produce",lastUpdated:Date.now()},{id:"ing-6",name:"Rice",unit:"kg",costPerUnit:80,currentStock:25,idealStock:50,minStockLevel:5,category:"Grains",lastUpdated:Date.now()},{id:"ing-7",name:"Milk",unit:"l",costPerUnit:60,currentStock:10,idealStock:20,minStockLevel:5,category:"Dairy",lastUpdated:Date.now()}];var y=i(24679);function N(){let[e,t]=(0,s.useState)("dashboard"),[i,h]=(0,s.useState)([]),[u,g]=(0,s.useState)([]),[p,N]=(0,s.useState)([]),[z,C]=(0,s.useState)(!1),[I,U]=(0,s.useState)([]),[D,M]=(0,s.useState)(null);(0,s.useEffect)(()=>{(()=>{let e=localStorage.getItem("restaurant_ingredients");e?h(JSON.parse(e)):(h(j),localStorage.setItem("restaurant_ingredients",JSON.stringify(j)));let t=localStorage.getItem("restaurant_inventory_transactions");if(t)U(JSON.parse(t));else{let e=[{id:"tx-1",ingredientId:"ing-paneer",type:"out",quantity:3,itemName:"Paneer Butter Masala",timestamp:Date.now()-36e5,reason:"Sale"},{id:"tx-2",ingredientId:"ing-paneer",type:"out",quantity:1.8,itemName:"Kadai Paneer",timestamp:Date.now()-72e5,reason:"Sale"},{id:"tx-3",ingredientId:"ing-paneer",type:"out",quantity:1.8,itemName:"Paneer Tikka",timestamp:Date.now()-108e5,reason:"Sale"},{id:"tx-4",ingredientId:"ing-paneer",type:"out",quantity:.14,itemName:"Malai Kofta (Base)",timestamp:Date.now()-144e5,reason:"Sale"}];U(e),localStorage.setItem("restaurant_inventory_transactions",JSON.stringify(e))}let i=localStorage.getItem("restaurant_menu_items");g(i?JSON.parse(i):y.mQ);let a=localStorage.getItem("restaurant_menus");N(a?JSON.parse(a):y.kn)})()},[]),(0,s.useEffect)(()=>{i.length>0&&localStorage.setItem("restaurant_ingredients",JSON.stringify(i))},[i]),(0,s.useEffect)(()=>{I.length>0&&localStorage.setItem("restaurant_inventory_transactions",JSON.stringify(I))},[I]),(0,s.useEffect)(()=>{u.length>0&&localStorage.setItem("restaurant_menu_items",JSON.stringify(u))},[u]);let P=i.reduce((e,t)=>e+t.currentStock*t.costPerUnit,0),L=i.filter(e=>e.currentStock<=e.minStockLevel),q=L.length>0?L:[{id:"demo-1",name:"Tomatoes",currentStock:2.5,unit:"kg",minStockLevel:5,costPerUnit:1.5,category:"Produce",lastUpdated:Date.now()},{id:"demo-2",name:"Mozzarella Cheese",currentStock:.8,unit:"kg",minStockLevel:2,costPerUnit:12,category:"Dairy",lastUpdated:Date.now()},{id:"demo-3",name:"Basil Leaves",currentStock:50,unit:"g",minStockLevel:100,costPerUnit:.1,category:"Herbs",lastUpdated:Date.now()}];return(0,a.jsxs)("div",{className:"space-y-6 max-w-[1400px] mx-auto pb-10",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[(0,a.jsx)(r.A,{className:"h-6 w-6 text-orange-600"}),"Inventory Management"]}),(0,a.jsx)("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Track stock, manage ingredients, and set up recipes."})]}),(0,a.jsxs)(f.tU,{value:e,onValueChange:t,className:"w-full",children:[(0,a.jsxs)(f.j7,{className:"grid w-full max-w-[400px] grid-cols-3",children:[(0,a.jsx)(f.Xi,{value:"dashboard",children:"Dashboard"}),(0,a.jsx)(f.Xi,{value:"ingredients",children:"Ingredients"}),(0,a.jsx)(f.Xi,{value:"recipes",children:"Recipes"})]}),(0,a.jsxs)(f.av,{value:"dashboard",className:"space-y-6 mt-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg text-green-600",children:(0,a.jsx)(n.A,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-zinc-500",children:"Total Inventory Value"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:["$",P.toFixed(2)]})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-lg text-red-600",children:(0,a.jsx)(d.A,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-zinc-500",children:"Low Stock Alerts"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:q.length})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-600",children:(0,a.jsx)(r.A,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-zinc-500",children:"Total Ingredients"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:i.length})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm overflow-hidden flex flex-col",children:[(0,a.jsx)("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-800",children:(0,a.jsxs)("h3",{className:"font-bold text-lg text-zinc-900 dark:text-white flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-red-500"}),"Low Stock Alerts"]})}),(0,a.jsx)("div",{className:"flex-1 overflow-auto max-h-[400px]",children:0===q.length?(0,a.jsxs)("div",{className:"p-8 text-center text-zinc-500 h-full flex flex-col justify-center items-center",children:[(0,a.jsx)(l.A,{className:"h-8 w-8 mb-2 text-green-500"}),(0,a.jsx)("p",{children:"All items are well stocked!"})]}):(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-zinc-50 dark:bg-zinc-950/50 text-zinc-500 sticky top-0",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 font-medium",children:"Ingredient"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium",children:"Stock"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium",children:"Level"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium",children:"Action"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:q.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/50",children:[(0,a.jsx)("td",{className:"px-6 py-4 font-medium",children:e.name}),(0,a.jsxs)("td",{className:"px-6 py-4 text-red-600 font-bold",children:[e.currentStock," ",e.unit]}),(0,a.jsx)("td",{className:"px-6 py-4 text-xs",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",children:"Low"})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)(b.$,{size:"sm",variant:"outline",onClick:()=>M(e),children:"Restock"})})]},e.id))})]})})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm overflow-hidden flex flex-col",children:[(0,a.jsx)("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-800",children:(0,a.jsxs)("h3",{className:"font-bold text-lg text-zinc-900 dark:text-white flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 text-blue-500"}),"Recent Activity"]})}),(0,a.jsx)("div",{className:"flex-1 overflow-auto max-h-[400px]",children:0===I.length?(0,a.jsxs)("div",{className:"p-8 text-center text-zinc-500 h-full flex flex-col justify-center items-center",children:[(0,a.jsx)(c.A,{className:"h-8 w-8 mb-2 opacity-20"}),(0,a.jsx)("p",{children:"No recent activity recorded."})]}):(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-zinc-50 dark:bg-zinc-950/50 text-zinc-500 sticky top-0",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 font-medium",children:"Time"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium",children:"Details"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium text-right",children:"Change"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:I.slice(0,20).map(e=>{let t=i.find(t=>t.id===e.ingredientId);return(0,a.jsxs)("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/50",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-zinc-500 text-xs",children:new Date(e.timestamp).toLocaleString([],{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"font-medium text-zinc-900 dark:text-white",children:(null==t?void 0:t.name)||"Unknown Item"}),(0,a.jsx)("div",{className:"text-xs text-zinc-500",children:e.itemName})]}),(0,a.jsxs)("td",{className:(0,k.cn)("px-6 py-4 font-bold text-right","in"===e.type?"text-green-600":"text-red-600"),children:["in"===e.type?"+":"-",e.quantity," ",null==t?void 0:t.unit]})]},e.id)})})]})})]})]})]}),(0,a.jsxs)(f.av,{value:"ingredients",className:"space-y-6 mt-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"relative w-72",children:[(0,a.jsx)(o.A,{className:"absolute left-3 top-3 h-4 w-4 text-zinc-400"}),(0,a.jsx)(v.p,{placeholder:"Search ingredients...",className:"pl-9"})]}),(0,a.jsxs)(b.$,{onClick:()=>C(!0),className:"gap-2 bg-orange-600 hover:bg-orange-700 text-white",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"})," Add Ingredient"]})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-zinc-50 dark:bg-zinc-950/50 text-zinc-500 border-b border-zinc-200 dark:border-zinc-800",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 font-medium",children:"Name"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium",children:"Category"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium",children:"Stock Level"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium",children:"Cost / Unit"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium text-right",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:i.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/50",children:[(0,a.jsx)("td",{className:"px-6 py-4 font-medium text-zinc-900 dark:text-white",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4 text-zinc-500",children:e.category}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:(0,k.cn)("font-mono font-medium",e.currentStock<=e.minStockLevel?"text-red-600":"text-zinc-700 dark:text-zinc-300"),children:[e.currentStock," ",e.unit]}),(0,a.jsx)("div",{className:"flex flex-col gap-0.5",children:(0,a.jsx)("button",{onClick:()=>M(e),className:"hover:text-green-600",children:(0,a.jsx)(m.A,{className:"h-3 w-3"})})})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 font-medium text-zinc-700 dark:text-zinc-300",children:["$",e.costPerUnit]}),(0,a.jsx)("td",{className:"px-6 py-4 text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(b.$,{size:"sm",variant:"outline",className:"h-8 text-xs bg-transparent border-zinc-200 dark:border-zinc-700 hover:bg-orange-50 hover:text-orange-600 hover:border-orange-200 dark:hover:bg-orange-900/20 dark:hover:text-orange-400 dark:hover:border-orange-800 transition-colors",onClick:()=>M(e),children:"Restock"}),(0,a.jsx)(b.$,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})]}),(0,a.jsx)(f.av,{value:"recipes",className:"space-y-6 mt-6",children:(0,a.jsx)(w,{ingredients:i,menuItems:u,menus:p,onUpdateRecipe:(e,t)=>{g(i=>i.map(i=>i.id===e?{...i,recipe:t}:i))}})})]}),z&&(0,a.jsx)(A,{onClose:()=>C(!1),onAdd:e=>{h([...i,e]),C(!1)}}),D&&(0,a.jsx)(S,{ingredient:D,onClose:()=>M(null),onRestock:(e,t,i)=>{if(!D)return;h(i=>i.map(i=>i.id===D.id?{...i,currentStock:i.currentStock+e,costPerUnit:t,lastUpdated:Date.now()}:i));let a={id:"tx-".concat(Date.now()),ingredientId:D.id,type:"in",quantity:e,itemName:i||"Manual Restock",timestamp:Date.now(),reason:"Restock"};U(e=>[a,...e]),M(null)}})]})}function w(e){var t;let{ingredients:i,menuItems:r,menus:n,onUpdateRecipe:d}=e,[l,c]=(0,s.useState)((null==(t=n[0])?void 0:t.id)||""),[o,m]=(0,s.useState)(null),x=r.filter(e=>{let t=n.find(e=>e.id===l);return!t||(t.itemIds.length>0?t.itemIds.includes(e.id):t.categoryIds.includes(e.categoryId))});return(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 h-[calc(100vh-250px)]",children:[(0,a.jsxs)("div",{className:"w-full md:w-1/3 bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-zinc-200 dark:border-zinc-800 space-y-3",children:[(0,a.jsxs)("h3",{className:"font-semibold text-zinc-900 dark:text-white flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 text-orange-600"}),"Select Item"]}),(0,a.jsx)("select",{className:"w-full h-10 px-3 rounded-lg border border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-800 text-sm",value:l,onChange:e=>c(e.target.value),children:n.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:x.map(e=>(0,a.jsxs)("div",{onClick:()=>m(e),className:(0,k.cn)("p-3 rounded-lg cursor-pointer transition-colors flex justify-between items-center group",(null==o?void 0:o.id)===e.id?"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800":"hover:bg-zinc-50 dark:hover:bg-zinc-800 border border-transparent"),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:(0,k.cn)("font-medium text-sm",(null==o?void 0:o.id)===e.id?"text-orange-700 dark:text-orange-400":"text-zinc-700 dark:text-zinc-300"),children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-zinc-500",children:["$",e.price]})]}),e.recipe&&e.recipe.length>0&&(0,a.jsx)("span",{className:"text-[10px] bg-green-100 dark:bg-green-900/30 text-green-700 px-2 py-0.5 rounded-full font-medium",children:"Linked"}),(0,a.jsx)(u.A,{className:(0,k.cn)("h-4 w-4 opacity-0 transition-opacity",(null==o?void 0:o.id)===e.id?"opacity-100 text-orange-600":"group-hover:opacity-50")})]},e.id))})]}),(0,a.jsx)("div",{className:"flex-1 bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 flex flex-col",children:o?(0,a.jsx)(z,{item:o,ingredients:i,onSave:e=>d(o.id,e)}):(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-zinc-400 p-8 text-center",children:[(0,a.jsx)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-800 rounded-full mb-4",children:(0,a.jsx)(h.A,{className:"h-8 w-8 opacity-50"})}),(0,a.jsx)("p",{className:"font-medium",children:"Select a menu item to configure its recipe"}),(0,a.jsx)("p",{className:"text-sm",children:"Link ingredients to automatically deduct stock on sale"})]})})]})}function z(e){let{item:t,ingredients:i,onSave:r}=e,[n,d]=(0,s.useState)(t.recipe||[]);(0,s.useEffect)(()=>{d(t.recipe||[])},[t]);let l=()=>{let e=i.find(e=>!n.some(t=>t.ingredientId===e.id));e?d([...n,{ingredientId:e.id,quantity:1}]):i.length>0&&d([...n,{ingredientId:i[0].id,quantity:1}])},c=(e,t,i)=>{let a=[...n];a[e]={...a[e],[t]:i},d(a)},o=n.reduce((e,t)=>{let a=i.find(e=>e.id===t.ingredientId);return e+(a?a.costPerUnit*t.quantity:0)},0);return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-800",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:["Recipe: ",t.name]}),(0,a.jsx)("p",{className:"text-sm text-zinc-500",children:"Define ingredients deducted per 1 qty sold"})]}),(0,a.jsxs)(b.$,{onClick:()=>r(n),className:"bg-orange-600 hover:bg-orange-700 text-white gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"})," Save Recipe"]})]})}),(0,a.jsx)("div",{className:"flex-1 p-6 overflow-y-auto space-y-4",children:0===n.length?(0,a.jsxs)("div",{className:"p-8 border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-xl text-center",children:[(0,a.jsx)("p",{className:"text-zinc-500 mb-2",children:"No ingredients linked yet"}),(0,a.jsx)(b.$,{variant:"outline",onClick:l,children:"Link First Ingredient"})]}):(0,a.jsxs)("div",{className:"space-y-3",children:[n.map((e,t)=>{let s=i.find(t=>t.id===e.ingredientId);return(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-zinc-50 dark:bg-zinc-800/50 p-3 rounded-lg border border-zinc-100 dark:border-zinc-700",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-zinc-500 mb-1 block",children:"Ingredient"}),(0,a.jsx)("select",{className:"w-full h-9 rounded-md border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800 text-sm px-2",value:e.ingredientId,onChange:e=>c(t,"ingredientId",e.target.value),children:i.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.unit,")"]},e.id))})]}),(0,a.jsxs)("div",{className:"w-32",children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-zinc-500 mb-1 block",children:["Quantity (",null==s?void 0:s.unit,")"]}),(0,a.jsx)(v.p,{type:"number",min:"0.1",step:"0.01",value:e.quantity,onChange:e=>c(t,"quantity",parseFloat(e.target.value)),className:"h-9"})]}),(0,a.jsxs)("div",{className:"w-24 pt-5 text-sm font-medium text-zinc-600 dark:text-zinc-400",children:["$",s?(s.costPerUnit*e.quantity).toFixed(2):"0.00"]}),(0,a.jsx)("div",{className:"pt-5",children:(0,a.jsx)("button",{onClick:()=>(e=>{let t=[...n];t.splice(e,1),d(t)})(t),className:"p-2 text-zinc-400 hover:text-red-600",children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})})]},t)}),(0,a.jsxs)(b.$,{variant:"outline",onClick:l,className:"w-full border-dashed",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"})," Add Another Ingredient"]})]})}),(0,a.jsx)("div",{className:"p-6 bg-zinc-50 dark:bg-zinc-950 border-t border-zinc-200 dark:border-zinc-800",children:(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,a.jsxs)("span",{className:"text-zinc-500",children:["Selling Price: ",(0,a.jsxs)("span",{className:"font-semibold text-zinc-900 dark:text-white",children:["$",t.price]})]}),(0,a.jsxs)("span",{className:"text-zinc-500",children:["Est. Cost: ",(0,a.jsxs)("span",{className:"font-semibold text-red-600",children:["$",o.toFixed(2)]})]}),(0,a.jsxs)("span",{className:"font-bold text-green-600",children:["Profit: $",(t.price-o).toFixed(2)]})]})})]})}function S(e){let{ingredient:t,onClose:i,onRestock:r}=e,[d,l]=(0,s.useState)(""),[c,o]=(0,s.useState)(t.costPerUnit.toString()),[m,x]=(0,s.useState)("");return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-xl w-full max-w-md p-6 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:["Restock: ",t.name]}),(0,a.jsxs)("p",{className:"text-sm text-zinc-500",children:["Current Stock: ",t.currentStock," ",t.unit]})]}),(0,a.jsx)("button",{onClick:i,className:"text-zinc-400 hover:text-zinc-600",children:(0,a.jsx)(p.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(parseFloat(d),parseFloat(c),m)},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Quantity to Add (",t.unit,")"]}),(0,a.jsx)(v.p,{required:!0,type:"number",step:"0.01",value:d,onChange:e=>l(e.target.value),placeholder:"e.g. 10",autoFocus:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"New Cost per Unit ($)"}),(0,a.jsx)(v.p,{required:!0,type:"number",step:"0.01",value:c,onChange:e=>o(e.target.value)}),(0,a.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:"Updating this will change the unit cost for future calculations."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Supplier / Source (Optional)"}),(0,a.jsx)(v.p,{value:m,onChange:e=>x(e.target.value),placeholder:"e.g. Metro Wholesale"})]}),(0,a.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 p-3 rounded-lg flex justify-between items-center text-sm",children:[(0,a.jsx)("span",{className:"text-zinc-500",children:"New Total Stock:"}),(0,a.jsxs)("span",{className:"font-bold",children:[(t.currentStock+(parseFloat(d)||0)).toFixed(2)," ",t.unit]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,a.jsx)(b.$,{type:"button",variant:"ghost",onClick:i,children:"Cancel"}),(0,a.jsxs)(b.$,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white gap-2",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"})," Confirm Restock"]})]})]})]})})}function A(e){let{onClose:t,onAdd:i}=e,[r,n]=(0,s.useState)(""),[d,l]=(0,s.useState)(""),[c,o]=(0,s.useState)(""),[m,x]=(0,s.useState)(""),[h,u]=(0,s.useState)("pcs"),[g,p]=(0,s.useState)("General");return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-xl w-full max-w-md p-6 shadow-xl",children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Add New Ingredient"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i({id:"ing-".concat(Date.now()),name:r,unit:h,costPerUnit:parseFloat(d),currentStock:parseFloat(c),minStockLevel:parseFloat(m),category:g,lastUpdated:Date.now()})},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Name"}),(0,a.jsx)(v.p,{required:!0,value:r,onChange:e=>n(e.target.value),placeholder:"e.g. Flour"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Cost per Unit"}),(0,a.jsx)(v.p,{type:"number",required:!0,step:"0.01",value:d,onChange:e=>l(e.target.value),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Unit"}),(0,a.jsxs)("select",{className:"w-full h-10 px-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-950",value:h,onChange:e=>u(e.target.value),children:[(0,a.jsx)("option",{value:"pcs",children:"Pieces (pcs)"}),(0,a.jsx)("option",{value:"kg",children:"Kilogram (kg)"}),(0,a.jsx)("option",{value:"g",children:"Gram (g)"}),(0,a.jsx)("option",{value:"l",children:"Liter (l)"}),(0,a.jsx)("option",{value:"ml",children:"Milliliter (ml)"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Current Stock"}),(0,a.jsx)(v.p,{type:"number",required:!0,step:"0.1",value:c,onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Min Alert Level"}),(0,a.jsx)(v.p,{type:"number",required:!0,step:"0.1",value:m,onChange:e=>x(e.target.value)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Category"}),(0,a.jsx)(v.p,{value:g,onChange:e=>p(e.target.value),placeholder:"e.g. Produce"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,a.jsx)(b.$,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),(0,a.jsx)(b.$,{type:"submit",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Add Ingredient"})]})]})]})})}},86651:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=(0,i(71847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},89417:(e,t,i)=>{Promise.resolve().then(i.bind(i,77992))},90923:(e,t,i)=>{"use strict";i.d(t,{Xi:()=>c,av:()=>o,j7:()=>l,tU:()=>d});var a=i(95155),s=i(12115),r=i(25016);let n=s.createContext(null),d=s.forwardRef((e,t)=>{let{className:i,defaultValue:d,value:l,onValueChange:c,...o}=e,[m,x]=s.useState(l||d||"");return s.useEffect(()=>{void 0!==l&&x(l)},[l]),(0,a.jsx)(n.Provider,{value:{activeTab:m,setActiveTab:e=>{x(e),null==c||c(e)}},children:(0,a.jsx)("div",{ref:t,className:(0,r.cn)("",i),...o})})});d.displayName="Tabs";let l=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",i),...s})});l.displayName="TabsList";let c=s.forwardRef((e,t)=>{let{className:i,value:d,...l}=e,c=s.useContext(n);if(!c)throw Error("TabsTrigger must be used within Tabs");return(0,a.jsx)("button",{ref:t,type:"button",className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",c.activeTab===d?"bg-white text-zinc-950 shadow-sm dark:bg-zinc-950 dark:text-zinc-50":"hover:bg-zinc-200/50 hover:text-zinc-900 dark:hover:bg-zinc-800/50 dark:hover:text-zinc-50",i),onClick:()=>c.setActiveTab(d),...l})});c.displayName="TabsTrigger";let o=s.forwardRef((e,t)=>{let{className:i,value:d,...l}=e,c=s.useContext(n);if(!c)throw Error("TabsContent must be used within Tabs");return c.activeTab!==d?null:(0,a.jsx)("div",{ref:t,className:(0,r.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",i),...l})});o.displayName="TabsContent"},97003:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});var a=i(95155),s=i(12115),r=i(25016);let n=s.forwardRef((e,t)=>{let{className:i,variant:s="default",size:n="default",...d}=e;return(0,a.jsx)("button",{ref:t,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300",{"bg-gray-900 text-gray-50 hover:bg-gray-900/90 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/90":"default"===s,"bg-gray-100 text-gray-900 hover:bg-gray-100/80 dark:bg-gray-800 dark:text-gray-50 dark:hover:bg-gray-800/80":"secondary"===s,"border border-gray-200 bg-white hover:bg-gray-100 hover:text-gray-900 dark:border-gray-800 dark:bg-gray-950 dark:hover:bg-gray-800 dark:hover:text-gray-50":"outline"===s,"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50":"ghost"===s,"text-gray-900 underline-offset-4 hover:underline dark:text-gray-50":"link"===s,"bg-red-500 text-gray-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-gray-50 dark:hover:bg-red-900/90":"destructive"===s,"h-10 px-4 py-2":"default"===n,"h-9 rounded-md px-3":"sm"===n,"h-11 rounded-md px-8":"lg"===n,"h-10 w-10":"icon"===n},i),...d})});n.displayName="Button"}},e=>{e.O(0,[779,441,255,358],()=>e(e.s=89417)),_N_E=e.O()}]);