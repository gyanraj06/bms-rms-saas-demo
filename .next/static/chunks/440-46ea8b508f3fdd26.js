"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{309:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},25016:(e,t,a)=>{a.d(t,{cn:()=>l});var s=a(2821),r=a(75889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},33789:(e,t,a)=>{a.d(t,{p:()=>i});var s=a(95155),r=a(12115),l=a(25016);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:bg-gray-950 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus-visible:ring-gray-300",a),ref:t,...i})});i.displayName="Input"},35597:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]])},41120:(e,t,a)=>{a.d(t,{x:()=>u});var s=a(95155),r=a(12115),l=a(54679),i=a(97003),n=a(90235),d=a(35597),c=a(78519),o=a(54690);let h=(0,a(71847).A)("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);var x=a(309),g=a(25016),p=a(33789);function u(e){let{open:t,onOpenChange:a,order:u,onSettle:y}=e,[m,b]=(0,r.useState)(null),[f,v]=(0,r.useState)({cash:0,card:0,upi:0});if(!u)return null;let k=u.total-(f.cash+f.card+f.upi);return(0,s.jsx)(l.lG,{open:t,onOpenChange:a,children:(0,s.jsxs)(l.Cf,{className:"sm:max-w-md",children:[(0,s.jsx)(l.HM,{onClick:()=>a(!1)}),(0,s.jsx)(l.c7,{children:(0,s.jsxs)(l.L3,{children:["Settle Order ",u.id]})}),(0,s.jsxs)("div",{className:"bill-content space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center bg-zinc-50 dark:bg-zinc-900 p-3 rounded-lg border",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold",children:u.customer}),(0,s.jsxs)("p",{className:"text-xs text-zinc-500",children:["Table: ",u.table]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-xl font-bold",children:["$",u.total.toFixed(2)]}),(0,s.jsx)("p",{className:"text-xs text-zinc-500",children:new Date(u.timestamp).toLocaleString()})]})]}),(0,s.jsxs)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:[(0,s.jsx)("p",{className:"font-semibold mb-1",children:"Items Summary:"}),(0,s.jsx)("p",{children:u.items})]}),(0,s.jsx)("hr",{className:"my-4 border-zinc-200 dark:border-zinc-800"}),(0,s.jsxs)("div",{className:"space-y-4 print:hidden",children:[(0,s.jsx)(n.J,{children:"Select Payment Method"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[(0,s.jsxs)(i.$,{variant:"Cash"===m?"default":"outline",className:(0,g.cn)("px-2","Cash"===m&&"bg-green-600 hover:bg-green-700"),onClick:()=>b("Cash"),children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-1.5"}),"Cash"]}),(0,s.jsxs)(i.$,{variant:"Card"===m?"default":"outline",className:(0,g.cn)("px-2","Card"===m&&"bg-blue-600 hover:bg-blue-700"),onClick:()=>b("Card"),children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-1.5"}),"Card"]}),(0,s.jsxs)(i.$,{variant:"UPI"===m?"default":"outline",className:(0,g.cn)("px-2","UPI"===m&&"bg-purple-600 hover:bg-purple-700"),onClick:()=>b("UPI"),children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-1.5"}),"UPI"]}),(0,s.jsxs)(i.$,{variant:"Split"===m?"default":"outline",className:(0,g.cn)("px-2","Split"===m&&"bg-orange-600 hover:bg-orange-700"),onClick:()=>{b("Split"),v({cash:u.total/2,card:u.total/2,upi:0})},children:[(0,s.jsx)(h,{className:"h-4 w-4 mr-1.5"}),"Split"]})]}),"Split"===m&&(0,s.jsxs)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800 space-y-4 animate-in fade-in slide-in-from-top-2 duration-200",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(n.J,{className:"text-[10px] uppercase font-bold text-zinc-500",children:"Cash"}),k>.01&&(0,s.jsx)("button",{type:"button",onClick:()=>v(e=>({...e,cash:e.cash+k})),className:"text-[10px] text-orange-600 font-bold hover:underline",children:"Fill"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-zinc-400 text-xs",children:"$"}),(0,s.jsx)(p.p,{type:"number",className:"h-8 pl-5 text-xs text-right pr-2",value:f.cash||"",onChange:e=>v({...f,cash:parseFloat(e.target.value)||0}),onFocus:e=>e.target.select()})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(n.J,{className:"text-[10px] uppercase font-bold text-zinc-500",children:"Card"}),k>.01&&(0,s.jsx)("button",{type:"button",onClick:()=>v(e=>({...e,card:e.card+k})),className:"text-[10px] text-orange-600 font-bold hover:underline",children:"Fill"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-zinc-400 text-xs",children:"$"}),(0,s.jsx)(p.p,{type:"number",className:"h-8 pl-5 text-xs text-right pr-2",value:f.card||"",onChange:e=>v({...f,card:parseFloat(e.target.value)||0}),onFocus:e=>e.target.select()})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(n.J,{className:"text-[10px] uppercase font-bold text-zinc-500",children:"UPI"}),k>.01&&(0,s.jsx)("button",{type:"button",onClick:()=>v(e=>({...e,upi:e.upi+k})),className:"text-[10px] text-orange-600 font-bold hover:underline",children:"Fill"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-zinc-400 text-xs",children:"$"}),(0,s.jsx)(p.p,{type:"number",className:"h-8 pl-5 text-xs text-right pr-2",value:f.upi||"",onChange:e=>v({...f,upi:parseFloat(e.target.value)||0}),onFocus:e=>e.target.select()})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-zinc-200 dark:border-zinc-800",children:[(0,s.jsx)("span",{className:"text-xs text-zinc-500 font-medium",children:"Remaining to Settle:"}),(0,s.jsxs)("span",{className:(0,g.cn)("text-sm font-bold",.01>Math.abs(k)?"text-green-600":"text-red-600"),children:["$",Math.abs(k).toFixed(2),k>0?" short":k<0?" over":""]})]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between gap-2 mt-4 print:hidden",children:[(0,s.jsxs)(i.$,{variant:"ghost",onClick:()=>{let e=document.createElement("style");e.innerHTML="\n            @media print {\n                body * { visibility: hidden; }\n                .bill-content, .bill-content * { visibility: visible; }\n                .bill-content { position: absolute; left: 0; top: 0; width: 100%; padding: 20px; }\n            }\n        ",document.head.appendChild(e),window.print(),document.head.removeChild(e)},className:"gap-2",children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),"Print Bill"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(i.$,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),(0,s.jsx)(i.$,{onClick:()=>{if("Split"===m){if(.01>Math.abs(k)){let e=[];f.cash>0&&e.push("Cash: ".concat(f.cash.toFixed(2))),f.card>0&&e.push("Card: ".concat(f.card.toFixed(2))),f.upi>0&&e.push("UPI: ".concat(f.upi.toFixed(2))),y(u.id,"Split (".concat(e.join(", "),")")),a(!1),b(null),v({cash:0,card:0,upi:0})}}else m&&(y(u.id,m),a(!1),b(null))},disabled:!m||"Split"===m&&Math.abs(k)>.01,className:"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black",children:"Confirm Payment"})]})]})]})})}},54679:(e,t,a)=>{a.d(t,{Cf:()=>n,Es:()=>h,HM:()=>o,L3:()=>c,c7:()=>d,lG:()=>i});var s=a(95155);a(12115);var r=a(65229),l=a(25016);function i(e){let{open:t,onOpenChange:a,children:r}=e;return t?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>a(!1)}),(0,s.jsx)("div",{className:"relative z-50 grid w-full max-w-lg gap-4 border bg-white p-6 shadow-lg duration-200 sm:rounded-lg dark:bg-black dark:border-gray-800",children:r})]}):null}function n(e){let{children:t,className:a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("grid gap-4",a),children:t})}function d(e){let{children:t,className:a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),children:t})}function c(e){let{children:t,className:a}=e;return(0,s.jsx)("h2",{className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),children:t})}function o(e){let{onClick:t}=e;return(0,s.jsxs)("button",{onClick:t,className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500 dark:ring-offset-gray-950 dark:focus:ring-gray-300 dark:data-[state=open]:bg-gray-800 dark:data-[state=open]:text-gray-400",children:[(0,s.jsx)(r.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})}function h(e){let{children:t,className:a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),children:t})}},54690:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},65229:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},78519:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},90235:(e,t,a)=>{a.d(t,{J:()=>i});var s=a(95155),r=a(12115),l=a(25016);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("label",{ref:t,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...r})});i.displayName="Label"},91169:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},91761:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},97003:(e,t,a)=>{a.d(t,{$:()=>i});var s=a(95155),r=a(12115),l=a(25016);let i=r.forwardRef((e,t)=>{let{className:a,variant:r="default",size:i="default",...n}=e;return(0,s.jsx)("button",{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300",{"bg-gray-900 text-gray-50 hover:bg-gray-900/90 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/90":"default"===r,"bg-gray-100 text-gray-900 hover:bg-gray-100/80 dark:bg-gray-800 dark:text-gray-50 dark:hover:bg-gray-800/80":"secondary"===r,"border border-gray-200 bg-white hover:bg-gray-100 hover:text-gray-900 dark:border-gray-800 dark:bg-gray-950 dark:hover:bg-gray-800 dark:hover:text-gray-50":"outline"===r,"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50":"ghost"===r,"text-gray-900 underline-offset-4 hover:underline dark:text-gray-50":"link"===r,"bg-red-500 text-gray-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-gray-50 dark:hover:bg-red-900/90":"destructive"===r,"h-10 px-4 py-2":"default"===i,"h-9 rounded-md px-3":"sm"===i,"h-11 rounded-md px-8":"lg"===i,"h-10 w-10":"icon"===i},a),...n})});i.displayName="Button"}}]);