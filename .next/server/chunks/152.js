"use strict";exports.id=152,exports.ids=[152],exports.modules={3067:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]])},7629:(a,b,c)=>{c.d(b,{p:()=>g});var d=c(21124),e=c(38301),f=c(15514);let g=e.forwardRef(({className:a,type:b,...c},e)=>(0,d.jsx)("input",{type:b,className:(0,f.cn)("flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:bg-gray-950 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus-visible:ring-gray-300",a),ref:e,...c}));g.displayName="Input"},14246:(a,b,c)=>{c.d(b,{x:()=>p});var d=c(21124),e=c(38301),f=c(33305),g=c(19217),h=c(53199),i=c(3067),j=c(14343),k=c(88582);let l=(0,c(23339).A)("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);var m=c(14257),n=c(15514),o=c(7629);function p({open:a,onOpenChange:b,order:c,onSettle:p}){let[q,r]=(0,e.useState)(null),[s,t]=(0,e.useState)({cash:0,card:0,upi:0});if(!c)return null;let u=c.total-(s.cash+s.card+s.upi);return(0,d.jsx)(f.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(f.Cf,{className:"sm:max-w-md",children:[(0,d.jsx)(f.HM,{onClick:()=>b(!1)}),(0,d.jsx)(f.c7,{children:(0,d.jsxs)(f.L3,{children:["Settle Order ",c.id]})}),(0,d.jsxs)("div",{className:"bill-content space-y-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center bg-zinc-50 dark:bg-zinc-900 p-3 rounded-lg border",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-semibold",children:c.customer}),(0,d.jsxs)("p",{className:"text-xs text-zinc-500",children:["Table: ",c.table]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:"text-xl font-bold",children:["$",c.total.toFixed(2)]}),(0,d.jsx)("p",{className:"text-xs text-zinc-500",children:new Date(c.timestamp).toLocaleString()})]})]}),(0,d.jsxs)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:[(0,d.jsx)("p",{className:"font-semibold mb-1",children:"Items Summary:"}),(0,d.jsx)("p",{children:c.items})]}),(0,d.jsx)("hr",{className:"my-4 border-zinc-200 dark:border-zinc-800"}),(0,d.jsxs)("div",{className:"space-y-4 print:hidden",children:[(0,d.jsx)(h.J,{children:"Select Payment Method"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[(0,d.jsxs)(g.$,{variant:"Cash"===q?"default":"outline",className:(0,n.cn)("px-2","Cash"===q&&"bg-green-600 hover:bg-green-700"),onClick:()=>r("Cash"),children:[(0,d.jsx)(i.A,{className:"h-4 w-4 mr-1.5"}),"Cash"]}),(0,d.jsxs)(g.$,{variant:"Card"===q?"default":"outline",className:(0,n.cn)("px-2","Card"===q&&"bg-blue-600 hover:bg-blue-700"),onClick:()=>r("Card"),children:[(0,d.jsx)(j.A,{className:"h-4 w-4 mr-1.5"}),"Card"]}),(0,d.jsxs)(g.$,{variant:"UPI"===q?"default":"outline",className:(0,n.cn)("px-2","UPI"===q&&"bg-purple-600 hover:bg-purple-700"),onClick:()=>r("UPI"),children:[(0,d.jsx)(k.A,{className:"h-4 w-4 mr-1.5"}),"UPI"]}),(0,d.jsxs)(g.$,{variant:"Split"===q?"default":"outline",className:(0,n.cn)("px-2","Split"===q&&"bg-orange-600 hover:bg-orange-700"),onClick:()=>{r("Split"),t({cash:c.total/2,card:c.total/2,upi:0})},children:[(0,d.jsx)(l,{className:"h-4 w-4 mr-1.5"}),"Split"]})]}),"Split"===q&&(0,d.jsxs)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800 space-y-4 animate-in fade-in slide-in-from-top-2 duration-200",children:[(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)(h.J,{className:"text-[10px] uppercase font-bold text-zinc-500",children:"Cash"}),u>.01&&(0,d.jsx)("button",{type:"button",onClick:()=>t(a=>({...a,cash:a.cash+u})),className:"text-[10px] text-orange-600 font-bold hover:underline",children:"Fill"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-zinc-400 text-xs",children:"$"}),(0,d.jsx)(o.p,{type:"number",className:"h-8 pl-5 text-xs text-right pr-2",value:s.cash||"",onChange:a=>t({...s,cash:parseFloat(a.target.value)||0}),onFocus:a=>a.target.select()})]})]}),(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)(h.J,{className:"text-[10px] uppercase font-bold text-zinc-500",children:"Card"}),u>.01&&(0,d.jsx)("button",{type:"button",onClick:()=>t(a=>({...a,card:a.card+u})),className:"text-[10px] text-orange-600 font-bold hover:underline",children:"Fill"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-zinc-400 text-xs",children:"$"}),(0,d.jsx)(o.p,{type:"number",className:"h-8 pl-5 text-xs text-right pr-2",value:s.card||"",onChange:a=>t({...s,card:parseFloat(a.target.value)||0}),onFocus:a=>a.target.select()})]})]}),(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)(h.J,{className:"text-[10px] uppercase font-bold text-zinc-500",children:"UPI"}),u>.01&&(0,d.jsx)("button",{type:"button",onClick:()=>t(a=>({...a,upi:a.upi+u})),className:"text-[10px] text-orange-600 font-bold hover:underline",children:"Fill"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-zinc-400 text-xs",children:"$"}),(0,d.jsx)(o.p,{type:"number",className:"h-8 pl-5 text-xs text-right pr-2",value:s.upi||"",onChange:a=>t({...s,upi:parseFloat(a.target.value)||0}),onFocus:a=>a.target.select()})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-zinc-200 dark:border-zinc-800",children:[(0,d.jsx)("span",{className:"text-xs text-zinc-500 font-medium",children:"Remaining to Settle:"}),(0,d.jsxs)("span",{className:(0,n.cn)("text-sm font-bold",.01>Math.abs(u)?"text-green-600":"text-red-600"),children:["$",Math.abs(u).toFixed(2),u>0?" short":u<0?" over":""]})]})]})]})]}),(0,d.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between gap-2 mt-4 print:hidden",children:[(0,d.jsxs)(g.$,{variant:"ghost",onClick:()=>{let a=document.createElement("style");a.innerHTML=`
            @media print {
                body * { visibility: hidden; }
                .bill-content, .bill-content * { visibility: visible; }
                .bill-content { position: absolute; left: 0; top: 0; width: 100%; padding: 20px; }
            }
        `,document.head.appendChild(a),window.print(),document.head.removeChild(a)},className:"gap-2",children:[(0,d.jsx)(m.A,{className:"h-4 w-4"}),"Print Bill"]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(g.$,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),(0,d.jsx)(g.$,{onClick:()=>{if("Split"===q){if(.01>Math.abs(u)){let a=[];s.cash>0&&a.push(`Cash: ${s.cash.toFixed(2)}`),s.card>0&&a.push(`Card: ${s.card.toFixed(2)}`),s.upi>0&&a.push(`UPI: ${s.upi.toFixed(2)}`),p(c.id,`Split (${a.join(", ")})`),b(!1),r(null),t({cash:0,card:0,upi:0})}}else q&&(p(c.id,q),b(!1),r(null))},disabled:!q||"Split"===q&&Math.abs(u)>.01,className:"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black",children:"Confirm Payment"})]})]})]})})}},14257:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},32717:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},33305:(a,b,c)=>{c.d(b,{Cf:()=>h,Es:()=>l,HM:()=>k,L3:()=>j,c7:()=>i,lG:()=>g});var d=c(21124);c(38301);var e=c(47089),f=c(15514);function g({open:a,onOpenChange:b,children:c}){return a?(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>b(!1)}),(0,d.jsx)("div",{className:"relative z-50 grid w-full max-w-lg gap-4 border bg-white p-6 shadow-lg duration-200 sm:rounded-lg dark:bg-black dark:border-gray-800",children:c})]}):null}function h({children:a,className:b}){return(0,d.jsx)("div",{className:(0,f.cn)("grid gap-4",b),children:a})}function i({children:a,className:b}){return(0,d.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",b),children:a})}function j({children:a,className:b}){return(0,d.jsx)("h2",{className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",b),children:a})}function k({onClick:a}){return(0,d.jsxs)("button",{onClick:a,className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500 dark:ring-offset-gray-950 dark:focus:ring-gray-300 dark:data-[state=open]:bg-gray-800 dark:data-[state=open]:text-gray-400",children:[(0,d.jsx)(e.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})}function l({children:a,className:b}){return(0,d.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",b),children:a})}},53199:(a,b,c)=>{c.d(b,{J:()=>g});var d=c(21124),e=c(38301),f=c(15514);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("label",{ref:c,className:(0,f.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...b}));g.displayName="Label"},88582:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])}};